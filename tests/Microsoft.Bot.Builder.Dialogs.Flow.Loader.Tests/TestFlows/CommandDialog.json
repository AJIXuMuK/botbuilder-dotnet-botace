{
  "@type": "http://schemas.botframework.com/ComponentDialog",
  "Id": "rootDialog",
  "InitialDialogId": "NameCommandDialog",
  "Dialogs": [
    {
      "@type": "http://schemas.botframework.com/TextPrompt",
      "Id": "NamePrompt",
      "DefaultOptions": {
        "Prompt": {
          "type": "message",
          "text": "What is your name?"
        },
        "RetryPrompt": {
          "type": "message",
          "text": "Reprompt: What is your name?"
        }
      }
    },
    {
      "@type": "http://schemas.botframework.com/IntNumberPrompt",
      "Id": "NumberPrompt",
      "DefaultOptions": {
        "Prompt": {
          "type": "message",
          "text": "What is your age?"
        },
        "RetryPrompt": {
          "type": "message",
          "text": "Reprompt: What is your age?"
        }
      }
    },
    {
      "@type": "http://schemas.botframework.com/CommandDialog",
      "Id": "NameCommandDialog",
      "Command": [
        {
          "@type": "http://schemas.botframework.com/CallDialog",
          "Dialog": "NamePrompt"
        },
        {
          "@type": "http://schemas.botframework.com/SetVariable",
          "Name": "Name",
          "Value": "DialogTurnResult"
        },
        {
          "@type": "http://schemas.botframework.com/Switch",
          "IgnoreCase": false,
          "Condition": "Name.Length > 2",
          "Cases": {
            "true": {
              "@type": "http://schemas.botframework.com/CallDialog",
              "Dialog": "NumberCommandDialog"
            },
            "false": {
              "@type": "http://schemas.botframework.com/CallDialog",
              "Dialog": "NameCommandDialog"
            }
          },
          "DefaultAction": {
            "@type": "http://schemas.botframework.com/SendActivity",
            "Text": "default"
          }
        }
      ]
    },
    {
      "@type": "http://schemas.botframework.com/CommandDialog",
      "Id": "NumberCommandDialog",
      "DialogId": "NumberPrompt",
      "OnCompleted": [
        {
          "@type": "http://schemas.botframework.com/CallDialog",
          "Dialog": "NamePrompt"
        },
        {
          "@type": "http://schemas.botframework.com/SetVariable",
          "Name": "Age",
          "Value": "DialogTurnResult"
        },
        {
          "@type": "http://schemas.botframework.com/SetVariable",
          "Name": "IsChild",
          "Value": "Age < 18"
        },
        {
          "@type": "http://schemas.botframework.com/SendActivity",
          "Text": "Done"
        }
      ]
    }
  ]
}